dim_config:
  owner:
    email: akommasani@mozilla.com
    slack: Alekhya
  alerts_enabled:
    enabled: true
    notify:
      channels:
        - data-monitoring-mvp
      users:
        - kik
  tier: tier_1
  dim_tests:
    - type: table_row_count
      options:
        condition: row_count <= 10
        enable_alerts_enabled: false
    - type: not_null
      options:
        columns:
          - segment
        condition: row_count >= 10
        enable_alerts_enabled: true
        channel:
          - U029TU25FTP
    - type: uniqueness
      options:
          columns:
            - segment
            - app_version
          condition: row_count > 10
          enable_alerts_enabled: false
    - type: custom_sql_metric
      options:
          sql: |
              SELECT COUNT(*) AS total_count
              FROM `data-monitoring-dev.dummy.active_users_aggregates_v1`
              WHERE country = 'AR' AND DATE(date_partition) = '2020-01-13'
          condition: total_count > 3000
          enable_alerts_enabled: false
